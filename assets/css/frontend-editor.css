/* Frontend editor specific styles (separate from frontend display) */
.esi-settings-wrap.esi-frontend-editor{margin:18px auto;max-width:80%}
.esi-editor-panel{display:flex;gap:20px;margin:16px 0;flex-wrap:nowrap;align-items:flex-start}
.esi-editor-left{flex:0 0 70%}
.esi-editor-sidebar{flex:0 0 30%;min-width:220px}
.esi-frontend-editor .esi-editor-sidebar{background:linear-gradient(180deg,#ffffff,#f6fcff); padding:18px; border-radius:10px; box-shadow:0 10px 28px rgba(29,33,41,0.06); border:1px solid rgba(0,0,0,0.06)}
.esi-dropzone-placeholder{padding:6px}
.esi-sidebar-actions{margin-top:12px}
.esi-sidebar-actions .esi-save-button{width:100%;display:block}
.esi-editor-sidebar{position:relative}
.esi-editor-sidebar .esi-save-button{position:sticky;bottom:16px}

/* Grid/editor styles */
.esi-media-grid{display:grid;grid-template-columns: repeat(4, 1fr);gap:10px}
.esi-media-item{box-sizing:border-box;border-radius:20px;overflow:hidden;background:#f5f5f5;display:flex;align-items:center;justify-content:center;min-height:80px;aspect-ratio:1 / 1;padding:0;position:relative}
.esi-thumb-wrap{width:100%;height:100%;display:block;line-height:0;padding:0;margin:0}
.esi-thumb{border:none !important;border-radius:0 !important;box-shadow:none !important;height:100% !important;max-width:100% !important;object-fit:cover !important;aspect-ratio:1 / 1 !important;display:block !important;vertical-align:middle}
.esi-media-empty{width:100%;height:100%}
.esi-drag-handle{position:absolute;left:8px;top:8px;width:32px;height:32px;border-radius:6px;border:0;background:rgba(255,255,255,0.9);box-shadow:0 1px 3px rgba(0,0,0,0.08);cursor:grab;display:flex;align-items:center;justify-content:center;font-size:16px;z-index:10}
.esi-drag-handle:active{cursor:grabbing}
.esi-media-item .esi-drag-handle{touch-action:none}

/* Dropzone */
.esi-dropzone{border:2px dashed rgba(0,0,0,0.08);border-radius:8px;padding:14px;margin-bottom:12px;background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(250,250,250,0.4));display:flex;align-items:center;justify-content:center;gap:12px;color:#666}
.esi-dropzone.dragover{background:rgba(245,250,255,0.9);border-color:rgba(0,120,210,0.9);color:#0b66b2}
.esi-dropzone .esi-dropzone-text{font-size:13px}
.esi-dropzone .esi-dropzone-hint{font-size:12px;color:#999}
.esi-dropzone .esi-dropzone-progress{width:18px;height:18px;border-radius:50%;border:2px solid rgba(0,0,0,0.08);border-top-color:rgba(0,0,0,0.2);animation:spin 800ms linear infinite;display:none}
.esi-dropzone.uploading .esi-dropzone-progress{display:inline-block}
@keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}

/* Upload overlay */
.esi-upload-overlay{position:absolute;inset:0;background:rgba(0,0,0,0.36);display:flex;align-items:center;justify-content:center;flex-direction:column;color:#fff;z-index:20}
.esi-upload-progress{width:60%;height:8px;background:rgba(255,255,255,0.12);border-radius:6px;overflow:hidden;margin-top:6px}
.esi-upload-progress > i{display:block;height:100%;background:linear-gradient(90deg,rgba(255,255,255,0.9),rgba(255,255,255,0.6));width:0%}
.esi-upload-percent{font-size:13px}
.esi-upload-error{color:#ffd2d2;background:rgba(0,0,0,0.6);padding:6px 8px;border-radius:6px;font-size:13px}
.esi-media-item.selected{outline:3px solid rgba(11,102,178,0.12)}

.esi-add-media, .esi-remove-media{width:36px;height:36px;border-radius:6px;border:0;background:rgba(255,255,255,0.95);display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:16px;padding:0;box-shadow:0 1px 2px rgba(0,0,0,0.06)}
.esi-add-media svg, .esi-remove-media svg{width:18px;height:18px;display:block}
.esi-remove-media{background:rgba(255,255,255,0.9)}
.esi-add-media:hover, .esi-remove-media:hover{transform:translateY(-1px)}

.esi-media-item.drag-over{outline:2px dashed rgba(0,0,0,0.16);} 
.esi-media-item.dragging{opacity:0.6}
